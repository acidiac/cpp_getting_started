http://www.sourcetricks.com/2008/07/c-queues.html
